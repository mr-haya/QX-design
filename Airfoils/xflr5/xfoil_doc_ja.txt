以下の文章は主にChatGPTによって日本語訳されたものです。
訂正した箇所もありますが、大部分はそのままコピペしたので正確性は保証されません。怪しいところは原文を読みましょう。
2023/11/7 森隼人
===================





XFOIL 6.9 ユーザープライマー                   最終更新   2001年11月30日

マーク・ドレラ、MIT航空宇宙学部
ハロルド・ヤングレン、エアロクラフト社


一般的な説明
===================
XFOILは、亜音速単独翼の設計と解析のためのインタラクティブプログラムです。これは、以下のような様々な有用な機能を実行するメニュー駆動のルーチンの集合から成り立っています：

  - 既存の翼の粘性（または非粘性）解析で、以下を可能にします：
       * 強制または自由な遷移
       * 遷移剥離泡
       * 限定的な後縁分離
       * CLmaxを超えた直後の揚力と抗力の予測
       * カルマン・ツィエンの圧縮性補正

  - スクリーンカーソルまたはマウスを使って表面速度分布をインタラクティブに指定することによる翼の設計と再設計。そのような機能が2つ実装されています。
       * 複素数マッピング形式に基づくフルインバース
       * XFOILの基本的なパネル法の拡張であるミックスドインバース
    フルインバースはマルチポイント設計を可能にし、ミックスドインバースは翼の一部に対して比較的厳格なジオメトリ制御を可能にします。

  - 新しい幾何学的パラメータをインタラクティブに指定することによる翼の再設計、例えば：
       * 新しい最大厚さおよび/またはキャンバー
       * 新しいLE半径
       * 新しいTE厚さ
       * 幾何学的仕様による新しいキャンバーライン
       * 荷重変更仕様による新しいキャンバーライン
       * フラップ偏向
       * 明示的な輪郭幾何学（スクリーンカーソルを通じて）

  - 翼のブレンディング

  - 固定または変動するレイノルズ数および/またはマッハ数を用いた抗力ポーラーの計算。

  - 翼のジオメトリとポーラー保存ファイルの書き込みと読み取り

  - ジオメトリ、圧力分布、およびポーラーのプロット
     (Versaplot派生のプロットパッケージ使用)

XFOILは、良いワークステーションで使用するのに最適です。ハイエンドPCも効果的ですが、X-WindowsグラフィックスをサポートするUnixを実行する必要があります。
XFOILのソースコードはFortran 77です。プロットライブラリはX-Windowsインターフェース用にいくつかのCルーチンも使用します。


歴史
-------
XFOIL 1.0は1986年にマーク・ドレラによって書かれました。主な目的は、高次パネル法の速度と精度を、ドレラとギルズによって開発されたISESコードで使用される新しい完全結合粘性/非粘性相互作用法と組み合わせることでした。完全にインタラクティブなインターフェースが初めから採用され、従来のバッチ型CFDコードよりもはるかに使いやすくなりました。いくつかの逆モードとジオメトリマニピュレーターもXFOILの開発初期に組み込まれ、かなり汎用的な翼開発システムになりました。

バージョン1.0以降、XFOILは数多くの改訂、アップグレード、ハック、および拡張を経ています。これらの変更は主に実際の設計使用中に認識された短所から生じたもので、XFOILは現実の翼開発に強く焦点を当てたものとなりました。ハロルド・ヤングレンは、初期に使用された厳しいVersaplot型パッケージよりも大幅に改善されたXplot11プロットパッケージを提供しました。ヤングレンや他の人々からの拡張や提案も、途中でXFOIL自体に組み込まれました。

ここ数年で、バグ報告や拡張提案は実質的に無くなっており、そのためバージョン6.8からの最後のいくつかの拡張の後、XFOIL 6.9は公式に「凍結」され、公開されています。バグは修正される可能性が高いですが、現時点ではこれ以上の開発は計画されていません。方法の拡張は計画されていますが、これらは完全に新しい次世代コードに組み込まれる予定です。

コード開発者およびコード強化者への注意...
XFOILは正確には最もクリーンな実装を持っているわけではありませんが、その広範な変更歴を考慮するとそれほど悪くはありません。GPL契約の下であれば、コードを自由にいじることができます。ただし、ドレラとヤングレンはこの時点でコードの変更を支援することには傾向がないでしょう、なぜなら私たちそれぞれが他に待っているプロジェクトが十二もあるからです。従って、自己責任で進めてください。


理論参考文献
-----------------
XFOILの一般的な方法論は以下で説明されています。
  ドレラ, M.,
  XFOIL: 低レイノルズ数翼の分析と設計システム,
  低レイノルズ数翼空気力学会議,
  ノートルダム大学, 1989年6月.

これはまた以下の章としても現れます：
  低レイノルズ数空気力学. T.J. ミューラー (編集者).
  工学講義ノート #54. スプリンガー・フェルラグ. 1989年.
  ISBN 3-540-51884-3
  ISBN 0-387-51884-3

XFOILによって使用される境界層公式は以下で説明されています：
  ドレラ, M. と ジャイルズ, M.B.
  超音速および低レイノルズ数翼の粘性-非粘性解析
  AIAAジャーナル, 25(10), pp.1347-1355, 1987年10月.

鈍い後縁処理については以下で説明されています：
  ドレラ, M.,
  鈍い後縁のための積分境界層公式,
  論文 AIAA-89-2166, 1989年8月.

その他関連文献：
  ドレラ, M.,
  翼設計方法論の要素,
  応用計算空気力学, (P. ヘンネ, 編集者),
  AIAAの進歩と航空宇宙学, 第125巻, 1990年.

  ドレラ, M.,
  MITダイダロスプロトタイプのための低レイノルズ数翼設計：ケーススタディ,
  航空機のジャーナル, 25(8), pp.724-732, 1988年8月.

  ドレラ, M.,
  翼の最適化の利点と欠点,
  "計算流体力学のフロンティア, 1998"の章,
  D.A. カーギー, M.M. ハフェズ, 編集者.
  ワールドサイエンティフィック, ISBN 981-02-3707-3


非粘性定式
--------------------
XFOILの非粘性定式は、単純な線形渦度流れ関数パネル法です。有限の後縁基部厚みは、ソースパネルを用いてモデル化されます。方程式は明示的なクッタ条件で閉じられます。デフォルトの160パネルでの高解像度非粘性計算は、RISCワークステーション上で実行するのに数秒を要します。同じ翼型に対して異なる迎え角の運用点は、ほぼ瞬時に得られます。

カルマン-ツィエン圧縮性補正が取り入れられており、音速条件までの良好な圧縮性予測が可能になっています。カルマン-ツィエン補正の理論的基盤は、超音速流れでは崩壊し、その結果として遷音速領域に入ると精度は急速に低下します。もちろん、衝撃波を伴う流れは、いかなる確実性をもって予測することはできません。


逆問題定式
-------------------
XFOILには二種類の逆問題メソッドが組み込まれています：フル逆問題とミックス逆問題です。フル逆問題定式は、基本的にはライトヒルとファン・インゲンの複素写像法であり、エプラーコードやセリグのPROFOILコードでも使用されています。これは、全表面速度分布から翼全体の幾何学的形状を計算します。ミックス逆問題定式は、単純に非粘性パネル定式です（離散支配方程式は同一です）が、パネルの渦度の強さが未知数である代わりに、表面速度が指定されている場所ではパネルノードの座標を未知数として扱います。一度に変更される翼の部分は一部分だけですが、後述する通りです。パネルの幾何学的形状を変数にすることにより、非線形問題となりますが、これはフルニュートン法により直接的な方法で解決されます。


粘性定式
-------------------
境界層と後流は、遅延散逸積分BL定式の二方程式と、トランソニック解析/設計のISESコードから取られた包絡線e^n遷移基準で記述されています。粘性解（境界層と後流）は、表面気流モデルを介して非圧縮ポテンシャル流れと強く相互作用しています（ISESでは代替の変位体モデルが使用されます）。これにより、限定的な分離領域の適切な計算が可能になります。抗力は、遠方の後流の運動量厚みから決定されます。鈍い後縁には、ベース抗力をかなり正確に計算する特別な処理が用いられます。

翼面および後流上の各点での合計速度は、自由流、翼面の渦度、および等価粘性源分布からの寄与からパネル解を用いて取得され、カルマン-ツィエン補正が加えられています。これは粘性方程式に組み込まれ、ISESコードと同じくフルニュートン法で簡単に解ける非線形楕円系を生み出します。実行時間は非常に迅速で、160パネルで高解像度計算を行う場合、RISCワークステーションで約10秒かかります。極めて近い攻角のシーケンス（例えばポーラー）では、計算時間はポイントごとに大幅に少なくなります。

揚力が指定されている場合、粘性計算のための後流軌跡は、指定された揚力での非粘性解から取られます。攻角が指定されている場合、後流軌跡はその攻角での非粘性解から取られます。これは厳密には正しくありません。なぜなら、一般的に粘性効果は揚力を減少させ、軌跡を変更するからです。この二次的な修正は実行されません。なぜなら後流軌跡を変更するたびに新しい源影響行列を計算する必要があるからです。これは非現実的な長い計算時間を必要とします。この近似の全体的な精度への影響は小さく、主に失速近く、または失速を過ぎた場所で感じられるでしょう。ここではどのみち精度が低下する傾向にあります。接着状態では、不正確な後流軌跡の影響は知覚できません。

データ構造
==============
XFOILは実行中に全てのデータをRAM内に格納します。データのファイルへの自動保存は通常行われませんので、ユーザーはXFOILを終了する前に作業結果を保存する必要があります。例外として、OPERで計算中に極データをディスクに自動保存するオプションがあります（後で説明します）。

保存された翼型と極
--------------------------
XFOIL 6.9は、一つの対話型セッション中に複数の極（polars）、関連する翼型、パラメータを格納します。各データセットは「保存された極」インデックスによって指定されます：

極 1： x,y, CL(a), CD(a)...  Re, Ma, Ncrit...
極 2： x,y, CL(a), CD(a)...  Re, Ma, Ncrit...
 .
 .

全てのデータが各保存された極に対して存在する必要はありません。たとえば、CL,CDの極がオンラインで計算されるのではなく外部ファイルから読み込まれた場合、x,yは欠落しています。

以前のXFOILバージョンでは、一度に一つの翼型と保存された極しか許されませんでした。新しい複数保存機能により、反復的な再設計がかなり便利になり、複数の設計バージョンがケースに含まれ、プロット上で簡単に重ね合わせることができます。

現在およびバッファーの翼型
---------------------------
XFOIL 6.9は、以前のバージョンで使用された「現在の翼型」と「バッファー翼型」という概念を保持しています。これらは様々な計算が実行される翼型であり、上述の「極」のx,y座標とは異なります。極のx,yは単にアーカイブされたデータであり、直接計算には関与しません。計算に使用するためには、まず極のx,yを現在の翼型に転送する必要があります。

プログラム実行
=================

XFOILは以下のコマンドで実行されます：

 % xfoil

プログラムを起動すると、以下のトップレベルメニューとプロンプトが表示されます：

   QUIT   プログラムの終了

  .OPER   直接操作ポイント
  .MDES   複雑なマッピングデザインルーチン
  .QDES   表面速度デザインルーチン
  .GDES   ジオメトリデザインルーチン

   SAVE f 翼型をラベル付き座標ファイルに書き込む
   PSAV f 翼型をプレーン座標ファイルに書き込む
   ISAV f 翼型をISES座標ファイルに書き込む
   MSAV f 翼型をMSES座標ファイルに書き込む
   REVE   書き込まれた翼型のノード順序を逆転

   LOAD f 座標ファイルからバッファー翼型を読み込む
   NACA i NACA 4,5桁翼型とバッファー翼型を設定
   INTE   2つの翼型を補間してバッファー翼型を設定
   NORM   バッファー翼型の正規化トグル

   BEND   現在の翼型の構造特性を表示

   PCOP   バッファー翼型の点から直接現在の翼型のパネルノードを設定
   PANE   曲率に基づいて現在の翼型のパネルノード（140）を設定
  .PPAR   パネリングの表示/変更

  .PLOP   プロットオプション

   WDEF f 現在の設定ファイルを書き込む
   RDEF f 現在の設定ファイルを再読み込み
   NAME s 新しい翼型名を指定
   NINC   名前バージョン番号を増分

   Z       ズーム    | (全てのメニューで利用可能)
   U       アンズーム  | 

 XFOIL   c>  


ピリオドで始まるコマンドはユーザーを別の下位レベルのメニューに置きます。他のコマンドは直ちに実行され、ユーザーに別のトップレベルコマンドを求めるプロンプトが表示されます。コマンドの後に続く小文字のi、r、f、sは、コマンドによって期待される引数のタイプを示しています：

  i  整数
  r  実数
  f  ファイル名
  s  文字列

ここではコマンドは大文字で示されますが、大文字小文字は区別されません。

通常、最初にLOADコマンドまたはNACAコマンドが発行されて、分析または再設計のための翼型が作成されます。NACAコマンドは、翼型を指定する整数引数を期待します：

 XFOIL  c>  NACA 4415

すべてのコマンドと同様に、引数を省略するとプロンプトが表示されます：

 XFOIL  c>  NACA

 Enter NACA 4 or 5-digit airfoil designation   i>  4415


LOADコマンドは、任意の翼型を定義するフォーマットされた翼型座標ファイルを読み込んで処理します。これはファイル名引数を期待します：

 XFOIL  c>  LOAD e387.dat


NACAまたはLOADコマンドは、たとえば以下のようにファイル名を引数としてXFOILが実行された場合は省略できます：

 % xfoil e387.dat

これにより、最初のメニュープロンプトが表示される前にLOAD手順が実行されます。

翼型ファイルフォーマット
--------------------
LOADは4種類の翼型ファイルフォーマットを認識します：Plain（プレーン）、Labeled（ラベル付き）、ISES、MSESです。
"#"で始まる行を除いて、すべてのデータ行が有効です。"#"で始まる行は無視されます。

プレーン座標ファイル
.....................

これにはX、Yの座標のみが含まれており、後縁から始まり、前縁を回り、後縁に戻るまでの座標が以下のようになっています（どちらの方向でも良い）：

X(1)  Y(1)
X(2)  Y(2)
 .     .
 .     .
X(N)  Y(N)



ラベル付き座標ファイル
.......................

これはプレーンファイルと同じですが、最初の行に翼型の名前が文字列で入っています：

NACA 0012
X(1)  Y(1)
X(2)  Y(2)
 .     .

これが最も便利なフォーマットとされています。
名前の文字列が、Fortranで読める数字のペアで始まらない場合、自動的に認識されます。したがって、「00 12 NACA Airfoil」という名前は使用できません。なぜなら「00 12」が最初の座標ペアとして解釈されるからです。「0012 NACA」は問題ありません。

いくつかのFortran実装では、TまたはFで始まる翼型名も問題を起こすことがあります。これらは論理変数として解釈され、名前検出ロジックを無効にします。名前を_Tまたは_Fで始めることは、この「機能」への実用的な解決策です。



ISES座標ファイル
....................

これには名前に加えて4つまたは5つのISESグリッド領域パラメータが含まれています：

NACA 0012
-2.0 3.0 -2.5 3.0
X(1)  Y(1)
X(2)  Y(2)
 .     .

もし2行目に4つ以上の数字がある場合、これらはグリッド領域パラメータとして解釈されます。



MSES座標ファイル
....................

これはISES座標ファイルと同じですが、次の行で区切られた複数の要素を含むことができます：

999.0 999.0

ユーザーはこれらの要素のどれを読み込むかを選びます。


バッファ翼型の正規化
----------------------------
XFOILでは、通常、入力された翼型と同じ形状およびカルテシアン空間での位置を保った状態で全ての操作を実行します。しかし、正規化フラグがセットされている場合（NORMコマンドで切り替え）、翼型の座標はすぐに単位弦長に正規化され、主翼縁は原点に配置されます。これをユーザーに思い出させるメッセージが表示されます。

バッファ翼型の補間による生成
-------------------------------------------
XFOIL 6.9で新しく追加されたINTEコマンドは、翼型をさまざまな割合で補間または「ブレンド」することを可能にします。補間は以下のように実行されます：

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
翼型0と1はそれぞれのキュービックスプラインによって定義されます。

  x0(s0), y0(s0)       x1(s1), y1(s1)

離散的な割線弧長パラメータsは、座標x(i), y(i)から計算されます。

  s(i) = s(i-1) + sqrt[ (x(i)-x(i-1))^2 + (y(i)-y(i-1))^2 ] 

補間を行うために、まず離散的なs0(i)ポイントを使用して、主翼縁から後翼縁までの離散的な分割パラメータ値 s'(i) = 0...1 を定義します：

 s'(i)  =   [s0(i) - s0_LE]/[s0_TE - s0_LE]

この分割パラメータ値s'は、翼型の上面と下面で別々に計算されます。

これらの分割パラメータ値s'を使用して、上面と下面で個別に、各翼型の新しいスプラインパラメータ値s0、s1を計算します：

 s0(i)  =  s0_LE  +  s'(i) * [s0_TE - s0_LE]    ;  元のs0(i)と同じ
 s1(i)  =  s1_LE  +  s'(i) * [s1_TE - s1_LE]    ;  元のs0(i)と同じ

その後、補間された翼型の点は、スプラインからx,yを計算し、それらを補間することによって計算されます：

 x_new(i)  =  (1-f) x0(s0(i))  +  f x1(s1(i))
 y_new(i)  =  (1-f) y0(s0(i))  +  f y1(s1(i))

上面と下面を別々に扱うことで、新しい翼型の主翼縁の点は、正確な0番と1番の主翼縁の補間結果となります。
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

補間された翼型のポーラ形状は、しばしばその2つの親翼型の補間されたポーラに非常に近いものとなります。また、0..1の範囲外のブレンド分数を指定することで外挿も可能ですが、外挿が過度である場合には、結果として得られる翼型は非常に奇妙なものになるかもしれません。

INTEを使用する良い方法は、MDESまたはGDESで実行された翼型の変更を「増強」または「トーンダウン」することです。例えば、翼型Aを変更して翼型Bが得られたとします：

 A -> MDES -> B

変更がAのポーラを正しい方向に変えたとしますが、十分ではありませんでした。必要な追加変更は、INTEで翼型Bを超えて外挿することによって行うことができます：

翼型 "0": A
翼型 "1": B
補間分数 0..1 :  1.4
出力翼型: C

「変更軸」に沿ってプロットすると、翼型は以下のようになります：

A         B     C
0.0       1.0   1.4  ...

したがって、翼型CはリデザインでBが受けた変更の40%を超える変更を受けます。意図した通り、翼型Cのポーラも約40%以上変わります。


翼型ノード配分マッチング
----------------------------------
INTEコマンドは、ある翼型のノード配分を別の翼型形状に適用するために使用できます。以下のように行います：

翼型0：ノード配分を提供する翼型（ s'(i) の値）
翼型1：形状を提供する翼型（ x, y の値）
補間率： 1.0

結果として得られる翼型は、翼型1の形状を持ちますが、翼型0のノード配分を持つことになります。


さらなるバッファ翼型の操作
-----------------------------------
GDES機能を用いて、バッファ翼型の非常に広範な操作が可能です。
これについては、後のセクションでより詳細に説明されます。分析のみが行われる場合は、通常、GDES機能は使用されません。


現在の翼型の生成
-----------------------------
バッファ翼型座標がスタートアップ時にファイルから読み込まれるか、LOADコマンドを介して読み込まれるとき、デフォルトで「現在の」、つまり作業中の翼型にも直接コピーされます。
したがって、分析操作を開始するために特別な操作は必要ありません。ただし、入力された翼型が不適切なポイント配分（多すぎる、少なすぎる、間隔が悪いなど）を持っている場合、スプラインされたバッファ翼型形状に対してより適切なパネルノード配分を作成するためにPANEを使用できます。
パネリングルーチンは、ユーザーが指定する程度に応じて、高い曲率の領域（つまり、前縁）や後縁でポイント密度を増やします。ユーザーは、例えば遷移が近い場合に、翼型の各側面で1つの追加間隔のパネル密度を増やすこともできます。現在の翼型のパネリングは、PPARで表示および/または変更できます。

場合によっては、PCOPを使用してバッファ翼型を現在の翼型に明示的に再コピーすることが望ましいです。以前のXFOILバージョンでは、これは同等のコマンドシーケンスで行う必要がありました。
 LOAD
 GDES
 EXEC

XFOIL 6.9では、LOADの後のGDES, EXECコマンドは不要になりました。

NACAコマンドは、適切なパネリングを備えた現在の翼型を作成するために、自動的にパネリングルーチンを呼び出します。


現在の翼型座標の保存
----------------------------------
これら4つの形式のいずれかで翼型ファイルを作成することができ、それぞれPSAV、SAVE、ISAV、またはMSAVコマンドで書き出すことができます。
MSAVコマンドを実行すると、ユーザーにはファイルのどの要素を上書きするかも尋ねられます。したがって、XFOILはMSES多要素構成の個々の要素を容易に「編集」するために使用することができます。
もちろん、同じ多要素ファイルに書き戻す場合には、要素の正規化を行うべきではありません。
ファイルに保存できるのは現在の翼型座標のみです。
バッファやポーラーのx、y座標を保存する必要がある場合は、まずそれを現在の翼型にコピーする必要があります。


単位
=====
XFOILでのほとんどの操作は、必ずしも単位弦長cを持たない翼型のカーテシアン座標x、yに対して行われます。
奇妙な形状に対しては弦長があいまいなため、XFOILの力係数CL、CD、CMは、フリーストリーム動圧だけを正規化して求められます（参照弦長は単位として1とされます）。同様に、XFOILのレイノルズ数REはフリーストリームの速度と粘性、そして暗黙の単位弦長で定義されます：

 CL = L / q           |     V = フリーストリーム速度
 CD = D / q           |     ν = フリーストリームの動粘性
 CM = M / q           |     ρ = フリーストリーム密度
 RE = V / ν           |     q = 0.5 ρ V^2

従来の定義は

 Cl = L / (q c)
 Cd = D / (q c)
 Cm = M / (q c^2)
 Rc = V c / ν

となりますので、従来の定義とXFOILの定義は弦長係数cまたはc^2によってのみ異なります。

例えば、NACA 4412翼型をOPERメニューで次のように操作します。

 RE   = 500000
 ALFA = 3

まずは弦長=1.0で、その後弦長=0.5で（例えばGDESメニューのSCALコマンドで変更したとします）。XFOILによって生成される結果は次の通りです：

 c = 1.0 :    CL = 0.80    CD = 0.0082    (RE = 500000, Rc = 500000)
 c = 0.5 :    CL = 0.40    CD = 0.0053    (RE = 500000, Rc = 250000)

CLは弦長で正規化されていないため、ほぼ翼型のサイズに比例します。実際の弦長レイノルズ数Rcが異なり、リフトに常に弱いレイノルズ数効果があるため、完全に比例しているわけではありません。一方で、小さい翼型のCDは、大きな翼型のCDの1/2倍よりもかなり大きくなります。これは、弦長レイノルズ数がプロファイル

ドラッグに大きな影響を与えるためです。
RE = 1000000でc = 0.5のケースを繰り返すと、予想通りCLとCDはc = 1.0の値のちょうど半分になります。

 c = 0.5 :    CL = 0.40    CD = 0.0041    (RE = 1000000, Rc = 500000)

XFOILは翼型のサイズに関係なく操作を行いますが、カンバーラインの形状やBLトリップ位置など、いくつかの量は弦長に基づいて定義されます。これらは相対x/c、y/cで指定され、翼型の弦線に沿っておよび正常にあります。これはユーザーの利便性のためだけに行われます。入出力のラベリングでは、「x、y」は常にカーテシアン座標を指し、「x/c、y/c」は翼型の前縁が(x/c,y/c) = (0,0)、後縁が(x/c,y/c) = (1,0)になるようにシフト、回転、スケーリングされた弦長ベースの座標を指します。この二つのシステムは翼型が正規化されている場合にのみ一致します。


分析
========
XFOILのトップレベルメニューのほとんどのコマンドは、ユーザーをさまざまな下位コマンドレベルとその専用メニュー、プロンプトへと導きます。例えば、「OPER」というコマンドを入力すると、プロンプト

 .OPERi  c>

が表示されます。" ? "をタイプすると、OPER分析メニューが表示されます。

   <cr>     トップレベルに戻る
   !        最後のALFA、CLI、CL、ASEQ、CSEQ、VELSを再実行

   Visc r   非粘性/粘性モードの切り替え
  .VPAR     境界層パラメータの変更
   Re   r   レイノルズ数の変更
   Mach r   マッハ数の変更
   Type i   マッハ数、ReのCLによる変化タイプの変更
   ITER     粘性解のイテレーション限界の変更
   INIT     境界層初期化フラグの切り替え

   Alfa r   アルファを指定
   CLI  r   非粘性CLを指定
   Cl   r   CLを指定
   ASeq rrr アルファのシーケンスを指定
   CSeq rrr CLのシーケンスを指定

   SEQP     ポーラー/Cp(x)シーケンスプロット表示の切り替え
   CINC     ポーラーに最小Cpの含有を切り替え
   HINC     ポーラーにヒンジモーメントの含有を切り替え
   Pacc i   アクティブポーラーへの自動ポイント蓄積の切り替え
   PGET f   セーブファイルから新しいポーラーを読み込む
   PWRT i   ポーラーをセーブファイルに書き出す
   PSUM     貯蔵されたポーラーの概要を表示
   PLIS i   貯蔵されたポーラーをリストアップ
   PDEL i   貯蔵されたポーラーを削除
   PSOR i   貯蔵されたポーラーを整理
   PPlo ii. 貯蔵されたポーラーをプロット
   APlo ii. 各ポーラーの翼型をプロット
   ASET i   貯蔵された翼型を現在の翼型にコピー
   PREM ir. 貯蔵されたポーラーからポイントを削除
   PNAM i   貯蔵されたポーラーの翼型名を変更
   PPAX     ポーラーのプロット軸の限界を変更

   RGET f   ファイルから新しい基準ポーラーを読み込む
   RDEL i   貯蔵された基準ポーラーを削除

   GRID     Cp vs xグリッドオーバーレイの切り替え
   CREF     参照Cpデータオーバーレイの切り替え
   FREF     参照CL、CDなどのデータ表示の切り替え

   CPx      Cp vs xをプロット
   CPV      圧力ベクトル付きの翼型をプロット（ギミック）
  .VPlo     境界層変数プロット
  .ANNO     現在のプロットに注釈を付ける
   HARD     現在のプロットのハードコピー
   SIZE r   プロットオブジェクトのサイズ変更
   CPMI r   最小Cp軸注釈の変更

   BL   i   境界層速度プロファイルをプロット
   BLC      カーソル位置で境界層速度プロファイルをプロット
   BLWT r   速度プロファイルのスケールウェイトを変更

   FMOM     フラップヒンジモーメントと力を計算
   FNEW rr  新しいフラップヒンジポイントを設定
   VELS rr  点での速度成分を計算
   DUMP f   Ue、Dstar、Theta、Cf vs s、x、yをファイルに出力
   CPWR f   x vs Cpをファイルに出力
   CPMN     表面最小Cpを報告
   NAME s   新しい翼型名を指定
   NINC     名前バージョン番号をインクリメント

コマンドは大文字小文字を区別しません。いくつかのコマンドは複数の引数を期待しますが、引数がタイプされていない場合、プロンプトが表示されます。

最も一般的に使用されるコマンドには、メニューリストのコマンドで大文字で示された部分によって示される短縮形があります。たとえば、メニューには...

   Alfa r   アルファを指定
   CLI  r   非粘性CLを指定
   Cl   r   CLを指定
   ASeq rrr アルファのシーケンスを指定
   CSeq rrr CLのシーケンスを指定

...とありますが、「A」コマンドは「ALFA」の短縮形で、「C」は「CL」の短縮形です。同様に、「AS」と「CS」はそれぞれ「ASEQ」と「CSEQ」の短縮形です。CLIコマンドには短縮形がないため（メニューで全て大文字で示されているように）、完全にタイプする必要があります。

ほとんどのコマンドは自己説明的であるはずです。非粘性の場合、CLIとCLコマンドは同じです。粘性の場合、CLIはアルファを指定するのと同等であり、これは事前に指定された揚力係数による非粘性解から決定されます。CLは、解決の一部として決定されるアルファで指定された真の粘性揚力係数で粘性解を返します（ただし、CLmaxを超えるCLを指定すると深刻な問題を引き起こす可能性があります！）。ユーザーは常に必要な入力を求められます。疑問がある場合は、「 ? 」をタイプすると常にメニューが表示されます。

XFOILでは、ALFA（迎え角）、CL（揚力係数）、またはCLI（設定揚力係数）コマンドを実行した後に、Cp（圧力係数）対x（翼弦方向の位置）の分布が表示されます。この分布は、CPXコマンドを使っていつでも再表示することができます。粘性モードがアクティブの場合、真の粘性Cpが実線で、その迎え角での非粘性Cpが点線で表示されます。点線の各ダッシュは一つのパネルに相当し、ローカルな点線の密度はパネル解像度の質の視覚的な指標としても有用です。非粘性モードがアクティブの場合は、非粘性Cpのみが実線で表示されます。

真の粘性Cp分布（実線）と非粘性Cp分布（点線）の違いは、境界層による有効翼型形状の変更によるものです。この有効翼型形状は、Cp対xのプロットの下に実際の翼型形状に重ねて表示されます。有効形状と実際の形状の間の隙間は、局所変位厚さdelta*に等しく、VPARメニューでプロットすることもできます。これは全体的な境界層厚さの約1/3から1/2の大きさですが、境界層を通る速度プロファイルを視覚化するには、BLまたはBLCコマンドを使用します。BLは翼型の周囲に等間隔で配置された数個のプロファイルを表示し、BLCはカーソル選択された位置でプロファイルを表示します。これらの小さなプロファイルをより詳しく見るためには、ほとんどの場合ズームコマンドZ、Uが必要になるかもしれません。

Cp参照データオーバーレイオプションがCREFで有効にされている場合、Cp対xプロットを開始すると、次の形式の整形式データファイルをユーザーに求めるプロンプトが表示されます：

x(1)  Cp(1)
x(2)  Cp(2)
 .      .
 .      .

次に、通常どおりCp対xプロットが表示されますが、データが重ねて表示されます。以前にFREFが発行されていた場合、CL、CDなどの数値参照値が求められ、計算された値の隣にプロットに追加されます。

境界層量はVPLOメニューからプロットされます：

   H      動的形状パラメータのプロット
   DT     上側DstarおよびThetaのプロット
   DB     下側DstarおよびThetaのプロット
   UE     縁速度のプロット
   CF     皮膚摩擦係数のプロット
   CD     散逸係数のプロット
   N      増幅率のプロット
   CT     最大せん断係数のプロット
   RT     Re_thetaのプロット
   RTL    log(Re_theta)のプロット

   X  rrr x軸の限界の変更
   Y  rrr 現在のプロットのy軸の限界の変更

   Blow   現在のプロットのカーソル拡大
   Rese   デフォルトのx,y軸の限界にリセット
   SIZE r 絶対プロットオブジェクトサイズの変更
  .ANNO   プロットの注釈
   HARD   現在のプロットのハードコピー

   GRID   グリッドプロットの切り替え
   SYMB   ノードシンボルプロットの切り替え
   LABE   ラベルプロットの切り替え
   CLIP   線プロットのクリッピングの切り替え

このメニューは大部分自己説明的です。CFコマンドでプロットされる皮膚摩擦係数は、

                             2
      Cf = tau / 0.5 rho Qinf

として定義されます。これは標準的な境界層理論の定義とは異なり、正規化に局所的なUeではなくQinfを使用します。一定の自由流れの参照を使用することで、Cf(x)は物理的なせん断応力tau(x)と同じ形になります。


分散係数CD'（これは抗力係数ではありません!!!）は、CDコマンドでプロットされます。CD'(x)は、粘性せん断および乱流混合による局所的なエネルギー散逸率に比例しています。したがって、翼型のどこで抗力が発生しているかを示します。実際には、Cf(x)は圧力抗力を考慮していないため、CD'は抗力発生のはるかに良い指標です。一方、CD'は全てを考慮しています。その総プロファイル抗力係数との関係は単純に

      /
 CD = | 2 CD' ds
      /

となり、この積分は両方の境界層と尾流でも実行されます。尾翼で流れが離れている場合、CD'の抗力寄与（エネルギー散逸）の多くが尾流で発生することがわかります。

前述のように、全ての力は自由流動の動圧だけで正規化されます。CL、CD、CMは、翼型が単位翼弦長を持つ場合のみ通常の翼弦基準の定義ですが、一般には翼型の翼弦長に比例してスケールします。また、CMは必ずしも翼型の1/4翼弦長点ではない、デカルト座標点(xref,yref) = (0.25,0.0)に関して定義されます。

                -- 力の計算 --

揚力係数CL、モーメント係数CMは、直接の表面圧力積分によって計算されます：

            /     _                   /
 CL = L/q = | Cp dx        CM = M/q = | -Cp [(x-xref) dx + (y-yref) dy]
            /                         /

          _
  ここで x = x cos(a) + y sin(a)     ; a = 攻撃角
          _ 
          y = y cos(a) - x sin(a)


積分は翼型の輪郭を反時計回りに実行されます。圧力係数Cpは、カーマン・ツィエンの圧縮性修正を使用して計算されます。

抗力係数CDは、尾翼端ではなく尾流の最後の点でスクワイア・ヤング式を適用して得られます。

                                          (H+5)/2
    CD = D/q = 2 Theta_i  =  2 Theta (u/V)

 ここで     Theta = 動量厚さ |  
               u = 縁速度     |  尾流の終端で
               H = 形状パラメータ |

               V = 自由流速度
         Theta_i = 「下流無限大」での動量厚さ


スクワイア・ヤング式は実質的に、動量厚さを「下流無限大」に外挿します。この式は、適用点の下流で、尾流が漸近的な振る舞いをすると仮定しています。この仮定は、後流が空力特性のある翼型で、特に後縁分離がある場合には大きく破られますが、翼型の少し後方では常に妥当です。そのため、後縁でスクワイア・ヤングを適用する通常の方法は、分離が存在する場合には疑問視されますが、尾流の最終点（典型的には1翼弦長下流）でのその適用は常に妥当です。また、最終尾流点での適用は、どの場合でも式の影響を小さくする結果をもたらします。なぜなら、その場所では u ~ V、それゆえに Theta_i ~ Theta となるからです。

ほとんどの2-D翼型実験では、抗力は尾流の2 Theta/c を測定することによって間接的に測定されます。これはしばしば翼型の後縁から1翼弦長以内で行われます。一貫性を持たせるために、これは「下流無限大」に実質的にある "真の" Cd = 2 Theta_i/c の値ではなく、同じ尾流位置でXFOILによって予測される Theta 値と比較されるべきです。一般に、Theta_i は Theta よりも小さくなります。ほとんどの翼型抗力測定実験では、この差は、何らかの補正が行われない限り、抗力測定が数パーセント過大になるかもしれません。

尾流の動量厚さから総粘性CDを計算する他に、XFOILはこの総CDの摩擦抗力成分CDfと圧力抗力成分CDpも決定します。これらは以下のように計算されます：

          /     _
  CDf  =  | Cf dx              CDp  =  CD - CDf
          /

ここで、Cfは自由流動の動圧に関して定義される表面摩擦係数であり、BL理論で一般的に使用されるBL端の動圧ではありません。CDpは、表面圧力積分を介して計算されるのではなく、CDとCDfから導かれることに注意してください。この従来の定義

         /     _
 CDp  =  | Cp dy    
         /

は、通常数値ノイズに埋もれるため、使用されません。


                -- 遷移基準 --

XFOILソリューションにおける遷移は、以下の2つの方法によって引き起こされます：

  自由遷移: e^n 基準が満たされる
 強制遷移: トリップまたは後縁に遭遇する

e^n 方法は常にアクティブであり、トリップの上流で自由遷移が発生する可能性があります。e^n 方法には、遷移を引き起こす最も増幅された周波数の増幅因子の対数であるユーザー指定のパラメータ "Ncrit" があります。このパラメータの適切な値は

、翼型が動作する周囲の乱れのレベルに依存し、そのような乱れが遷移に及ぼす影響を模倣します。以下は、さまざまな状況におけるNcritの典型的な値です。

     状況                 Ncrit
  -----------------        -----
  セイルプレーン          12-14
  モーターグライダー      11-13
  クリーンな風洞          10-12
  平均的な風洞             9     <=  標準 "e^9 方法"
  汚れた風洞               4-8

注意：XFOILのe^n方法は、実際にはH(x)が一定である流れに対してのみ、完全なe^n方法と同じである簡略化された包絡線バージョンです。もしHが一定でない場合、二つの方法は多少異なりますが、この違いは通常Ncritを選択する際の不確実性の範囲内です。

e^n方法は、2次元トルミーン-シュリヒティング波の線形不安定性による成長が支配的な遷移開始メカニズムである状況での遷移を予測するのに適しています。幸いにも、これはほとんどの翼型応用において実際のケースです。他の可能性のあるメカニズムは以下の通りです：

* クロスフロー不安定性。これは、有利な翼弦方向の圧力勾配を伴うスイープ翼に発生します。

* 付着線遷移。これは大きなスイープ、大きな前縁半径、そして大きなレイノルズ数が必要です。主に大型ジェット機で発生します。

* バイパス遷移。これは、十分な壁面の粗さと/または大きな自由流乱流や振動レベルがある場合に発生します。e^n方法によって予測される線形不安定性の段階が「バイパス」され、比較的早い段階で遷移が起こります。通常、有利な圧力勾配で起こり、一方で線形不安定性メカニズムは不利な圧力勾配で支配的です。

これらの代替遷移メカニズムが存在する場合、トリップはそれらの効果を模倣するために設定されなければなりません。バイパス遷移メカニズムは、Ncritを小さい値に設定することで、ある程度e^n方法によって模倣できます。Ncrit=1以下に設定すると、線形不安定性が始まる直後に遷移が発生します。非常に大きな自由流乱流や有利な圧力勾配における粗さによって、バイパス遷移が線形不安定性の閾値より前に起こる場合、トリップも設定されなければなりません。


数値精度
----------

-- パネル密度要件 --
粘性解において強い分離バブルが存在する場合、バブル領域の良好なパネル解像度が非常に重要です。バブルにおける大きな勾配は、多数のパネルを使用しても、かなりの数値誤差を引き起こす傾向があります。分離バブルが十分に解決されていないように見える場合は、より多くの点でエアフォイルを再パネリングし、またはバブル領域の周りに点を集中させることが良いアイデアです。パネリングはPPARメニューから制御されます。良い経験則としては、バブル内で遷移後の形状パラメータHkが点ごとに1.0以上減少しないようにすること、また、遷移後の表面速度Ue/Vinfが点ごとに0.05以上変化しないようにすることです。さもなければ、抗力においてかなりの数値誤差が生じる可能性があります。点の値は、VPLOメニューからSYMBを発行することにより観察できます。中程度の翼弦レイノルズ数（例えば100万から300万）では、バブルはまだ重要ですが非常に小さいため、最も細かいパネリングを通常要求します。多くのエアフォイル、特に小さな前縁半径を持つものでは、前縁の直後に形成される小さなバブルの発達がCLmaxに大きな影響を与えることがあります。そのような場合、バブルにおけるデフォルトのパネル密度は適切でない可能性があります。いずれの場合も、不十分なバブル解像度は「ざらざらした」または「波打った」CL対CDの抗力ポーラーカーブの結果となるため、幸いにもこれは簡単に見つけられます。

-- 差分の精度の順序 --
BL方程式は通常、二点中央差分法（つまり台形スキーム）で離散化され、これは2次精度ですが、わずかに安定性があります。特に、遷移において形状パラメータとラグ方程式が比較的厳しいため、高レイノルズ数では形状パラメータは非常に迅速に変化しなければなりません。グリッドがこの迅速な変化を解決できない場合、台形スキームでは形状パラメータの振動とオーバーシュートが発生します。この厄介な振る舞いを避けるために、後流化を導入する必要があります。これにより、非常に安定したが、1次精度しかない後流オイラースキームになります。以前のXFOILのバージョンでは、特定の一定量の後流化をユーザーが指定できました。現在のXFOILは、急激な変化が起きる領域（通常は遷移）でのみ方程式に後流化を自動的に導入します。これにより、全体的なスキームが安定し、可能

な限り正確になります。

数値精度を考慮して最小限の後流化が導入されているため、比較的粗いパネリングがそこに使用される場合、停滞点付近で形状パラメータHに小さな振動が時々現れることがあります。これらの振動は主に見た目の問題であり、境界層の下流の発達には大きな影響を与えません。後流化を増やしてこれを排除することは、実際には粘性解全体においてはるかに大きな誤差を生じさせます。

粘性解の加速
-------------------
粘性ケースの実行には、ニュートン反復ごとに大きな線形システムの解が必要です。このシステムの係数行列は1/3が充填されていますが、そのほとんどのエントリは非常に小さいです。これらの小さなエントリを無視すると、CPU時間が4倍以上節約されます（因数）。サブルーチンBLSOLVは、大きなニュートンシステムを解決し、サブルーチンINITで初期化された変数VACCELよりも小さい絶対値を持つ任意の非対角要素を無視します。そして、VACCコマンドを使用して、実行時にVPARメニューから変更できます。

原理的に非ゼロのVACCELパラメータは、粘性解の収束率を低下させるべきです。そして、その結果としてより多くのニュートン反復を必要とするはずですが、効果は通常あまりにも小さくて気づかれません。非常に低いレイノルズ数の場合（10万未満）、収束率や安定性に悪影響を及ぼすかもしれませんので、VACCELを減らすか、収束に成功しない場合はゼロに設定してみるべきです。VACCELの値は、収束した最終的な粘性解には全く影響を与えません（達成された場合）。


極曲線計算とプロット
---------------------
OPERメニューから制御される極曲線計算機能は、詳細な説明に値します。これは、以前のXFOILバージョンから大幅にアップグレードされています。

極曲線を作成する最も簡単な方法は、PACCコマンドを使用することです。これにより、自動極曲線蓄積のトグルが設定され、オプションの保存およびダンプファイル名が要求されます。いずれかのファイル名が指定された場合、計算された各運用点は内部に保存され、指定されたファイルにも書き込まれます。ファイル名が指定されていない場合、自動書き込みは行われません。

極曲線の運用点は、ALFAコマンドで個別に計算するか、ASEQコマンドを使用して一括でより便利に計算することができます。CLやCSEQを使用することもできますが、これらはCLmaxに近い場所では機能しません。

極曲線は、PPLOコマンドでいつでもプロットできます。以前に計算された極曲線がPGETコマンドで読み込まれている場合、それらもプロットすることができます。極曲線が不完全と見なされる場合、必要に応じて追加の点を計算できます。

PACCで自動書き込みが選択されていない場合（ファイル名が指定されていない場合）、PWRTコマンドを使用して後で一度に極曲線を書き込むことができます。このアプローチの唯一の欠点は、プログラムが何らかの理由で極曲線計算のスイープ中にクラッシュした場合、計算された極曲線と他のすべての保存された情報が失われることです。

PACCに既存のファイル名が指定されている場合、その後計算された点はこれらのファイルに追加されますが、ファイル内の空気翼名と流れのパラメータが現在のパラメータと一致している場合に限ります。これは、「間違った」追加点で極曲線ファイルを上書きすることを防ぐためです。ユーザーが何が起こっているのかを常に知らせるメッセージが生成されます。

オフラインの極曲線プロット
-----------------------
極曲線保存ファイルは、別のプログラムPPLOTを使用してオフラインでプロットすることもできます。これは完全にメニュー駆動型で、以下のように実行されます：

 % pplot

ファイル `pplot.def` にはプロットパラメータが含まれており、利用可能な場合は自動的に読み込まれます。利用可能でない場合は、内部デフォルトが使用されます。

OPERのRGET、FREFコマンドと同様に、PPLOTは参照データを重ねて表示することができます。参照極曲線データファイルは以下の形式です：

```
CD(1)  CL(1

)
CD(2)  CL(2)
 .      .
 .      .
999.0  999.0
alpha(1)  CL(1)
alpha(2)  CL(2)
  .       .
  .       .
999.0   999.0
alpha(1)  Cm(1)
alpha(2)  Cm(2)
  .       .
  .       .
999.0   999.0
Xtr/c(1)  CL(1)
Xtr/c(2)  CL(2)
  .        .
  .        .
999.0   999.0
```

各セット（CD-CL、alpha-CLなど）の点の数は任意であり、ゼロでも構いません。

極曲線ダンプファイルの内容は、別のメニュー駆動型プログラムPXPLOTを使用して選択的にプロットできます。それは以下のように実行されます：

 % pxplot <dump filename>
 
これにより、保存された運用点のいずれかまたはすべてに対して、Cp対x、H対xなどの表面プロットを生成できます。もちろん、これらのプロットはXFOILで任意の個別の運用点について生成することができるため、PXPLOTとダンプファイル自体はこの点においてやや冗長です。



Re（レイノルズ数）およびMach（マッハ数）のCL（揚力係数）依存性
------------------------------------------------
TYPEコマンドに関していくつかコメントがあります。このコマンドにより、ユーザーはマッハ数とレイノルズ数のCLに対する依存性を設定することができます。任意のCL-CD極曲線は以下の3つのタイプのいずれかになります：

 Type   固定されているパラメータ      変化する    固定
 ----   ------------------------      -------   -----------
   1    M（マッハ数）, Re（レイノルズ数）..   CL（揚力係数）  chord（コード長）, vel（速度）
   2    M sqrt(CL), Re sqrt(CL)   ..   vel（速度）  chord（コード長）, CL（揚力係数）
   3    M（マッハ数）, Re CL         ..   chord（コード長） CL（揚力係数）, vel（速度）

* タイプ1は、風洞テストのアルファスイープや急激な航空機のプルアップなど、一定の速度で攻角範囲を超える特定の翼に対応します。これはまた、空気翼極曲線の一般的な形でもあります。

* タイプ2は、特定の高度で水平飛行している航空機がトリム速度の変更を経験することに対応しています。これは1-gの航空機の抗力極曲線を決定するための最も有用な空気翼極曲線の形です。この場合、「マッハ数」とMACHコマンドで入力される値は実際には積 M sqrt(CL) として解釈され、「レイノルズ数」とVISCまたはREコマンドで入力される値は RE sqrt(CL) として解釈されます。水平飛行中の翼の場合、これらの積は以下の正確な関係から計算することができます。Reは平均コード長に基づきます：

                         1/2                                1/2
              |  2  W/S |                     1  | 2 rho W |
 M sqrt(CL) = | --- --- |       RE sqrt(CL) = -- | ------- |
              | 1.4  p  |                     mu |    AR   |

 W  = 重量            p   = 周囲圧力
 S  = 翼面積          mu  = 動粘性係数
 AR = アスペクト比    rho = 周囲空気密度

* タイプ3は、特定の速度で与えられた揚力を持つ「ゴムコード」の翼に対応しています。これは、レイノルズ数の変化を考慮に入れながら空気翼の最適なCLを選択するために最適です。積 RE CL は以下から計算されます：

           2 W
  RE CL = ------       b = スパン = sqrt(S*AR)
          mu V b

タイプ2および3を使用する際には、CLが負にならないように注意が必要です。さらに、非ゼロのマッハ数を持つタイプ2の場合、CLはマッハ数が1を超える値よりも低下しないようにしなければなりません。これらの問題が発生したときは、警告メッセージが出力されます。


出力
======
全ての出力は直接端末画面に表示されます。H. YoungrenによるプロットパッケージXplot11（libPlt.a）はXFOILで使用され、モノクロおよびカラーのX-ウィンドウグラフィックスを駆動し、ハードコピー用にモノクロまたはカラーのPostScriptファイルを生成します。デフォルトのセットアップではカラーのX-ウィンドウグラフィックス（利用可能であれば）とモノクロPostScriptを想定しています。これらのデフォルトは、SUBROUTINE INIT（xfoil.f内）のIDEVおよびIDEVRPフラグによって制御されます。

Xplot11ライブラリは全てのUnixシステムで動作するはずです。./plotlib/ディレクトリ内のMakefileは一部のマシンでの変更が必要です。

デフォルトのX-グラフィックスウィンドウはランドスケープモードで、黒い（リバースビデオ）背景です。Unixシェル変数

 % setenv XPLOT11_BACKGROUND white

を設定することで通常のビデオが選択され、Xfoilが開始される前です。逆ビデオは次のようにして復元されます：

 % unsetenv XPLOT11_BACKGROUND

プロットライブラリの詳細については、plotlib/Docファイルを参照してください。

Xplot11は画面上にあるものに適用できる内蔵のズーム/アンズーム機能を提供します。ズーム/アンズームは、ほぼ全てのメニューからの「Z」と「U」のコマンドで実行できます --- クラッタを減らすためにこれらのコマンドはリストされていません。

いくつかのメニューには独自のブローアップ/リセットコマンドもあります。違いは、XFOILのプロットはズームパラメータに自身を調整しようとしないため、高度に「ズームされた」プロットでは何も表示されないかもしれないということです。対照的に、ブローアップ/リセットはXFOILに自身のプロットスケールを変更するよう指示するため、高度に「ブローアップされた」プロットは少なくとも軸を表示します。


プロットハードコピー
=============
ハードコピーのために、現在のスクリーンプロットはHARDコマンドでPostScriptファイル plot.ps にエコーされます。画面上およびハードコピー上のプロットオブジェクトのサイズは、ほとんどのメニューからSIZEコマンドで変更できます。リクエストされた番号は、プロットの幅（インチ）です。

*** 注記 ***
plot.psファイルがいくつかのX-ウィンドウPostScriptビューアでプレビューされるか、ワードプロセッシングシステムにインポートされる場合、XFOILはQUITで終了されなければなりません。これにより、plot.psファイルが適切に終了されます。印刷のみの場合、これが必要かどうかは変わります。

*** 注記 ***
GDESのジオメトリプロットおよびQDESとMDESのQspec(s)プロット（以下で説明）について、ハード

コピーのプロットサイズはウィンドウマネージャレベルでカーソルを使用してグラフィックスウィンドウのサイズが変更された場合にも影響を受けます。これは、プロットができるだけウィンドウの多くを埋めるように常にスケールされるためです。ウィンドウのサイズが初期サイズであれば、ハードコピーのプロット幅は指定されたサイズ（インチ）になります。ウィンドウの任意の寸法がデフォルト値から増加した場合、その後のハードコピーのプロットは標準の8.5インチ x 11.0インチの用紙におそらく収まらないでしょう。

Full-Inverse Design Routine (MDES)
==================================
XFOILのFull-Inverse複素マッピング機能（MDES）は、翼全体の表面にわたって指定された速度分布「Qspec」を入力として受け取り、ライトヒルの制約を満たすためにそれを多少修正し、新しい全体的な幾何学を生成します。まず、その背後にある理論の概要を少し...

幾何学と表面速度は両方とも、複素マッピング係数「Cn」のセットから計算できます。

 x + iy  =  z(w;Cn)
 u - iv  =  f(w;Cn,alpha)

ここで、w=0..2*piは翼周りを進む独立変数です。zとfの関数はかなり複雑ですが、ここでは重要ではありません。フルインバース方法の鍵は、既知の輪郭角度 theta(w) = arctan(dy/dz) または表面速度 q(w) = |u-iv| からマッピング係数 Cn を計算できることです。もう一方の量はそれに続きます。要約すると、操作とそのコマンドは以下の通りです...

 a) 直接問題： theta -> Cn -> u-iv, q （QSET）
 b) 逆問題： Qspec -> Cn -> x+iy, theta （EXEC）

種速度分布の作成
-------------------------------------------
MDESはQSETを実行し、Qspecが存在しない場合は自動的にQspec = qに設定します。このQspecは、その後の設計操作の出発点になります。

このデフォルトの初期化により、MDESは再設計方法になり、既存の翼の表面速度分布が新しい速度分布を生成するための出発点として使用されます。全表面速度分布を毎回要求する「純粋な」設計コードは、翼設計が反復的なプロセスであり、繰り返し分析/修正サイクルを含むため、使用するのが自然ではないことがよくあります。以下にMDESメニューを示します。

   <cr>   トップレベルに戻る
   !      前のコマンドをやり直す

   INIT   マッピングを再初期化
   QSET   QspecをQにリセット
   AQ r.. Qspecのalpha(s)を表示/選択
   CQ r.. QspecのCL(s)を表示/選択

   Symm   対称フラグのトグル
   TGAP r 新しいTEギャップを設定
   TANG r 新しいTE角度を設定

   Modi   Qspecを修正
   MARK   平滑化のためのターゲットセグメントをマーク
   SMOO   ターゲットセグメント内でQspecを平滑化
   FILT   全Qspecにハニングフィルタを適用
   SLOP   修正されたQspec勾配マッチングフラグのトグル

   eXec   フルインバース計算を実行

   Plot   Qspec（線）とQ（シンボル）を再プロット
   VISC   Qvisオーバーレイのトグル
   REFL   反射されたQspecオーバーレイのトグル
   SPEC   マッピング係数スペクトラムをプロット

   Blow   プロット領域を拡大
   Rese   プロットスケールと

原点をリセット
   Wind   カーソルとキーを介したプロットウィンドウの調整

   SIZE r 絶対プロットオブジェクトサイズの変更
  .ANNO   プロットに注釈を付ける
   HARD   現在のプロットのハードコピー

   PERT   1つのCnを摂動し、幾何学を生成

上述のように、初期のQspec分布は「Q」から取られます。これは、OPERで最後に使用された攻撃角における現在の幾何学に対応する速度分布です。QspecはいつでもQSETでこのQに戻すことができます。


表面速度分布の変更
-------------------------------------------

-- カーソル入力による変更 --
MODIコマンドを使用して、画面カーソルで指定した点でQspecを任意に変更できます。点は任意の順序で入力できます。最後の点は、「Erase」ボタンをクリックするか、グラフィックウィンドウで「e」と入力することで消去できます。入力シーケンスは、「Done」ボタンをクリックするか、グラフィックウィンドウで「d」と入力することで終了します。「Abort」ボタンをクリックするか、「a」と入力するとMODIコマンドを中止し、MDESメニューに戻ります。BLOWコマンドは、関心のある領域を対角線の角を指定していつでも拡大するために使用できます。

-- 変更のエンドポイントブレンディング --
通常、変更されたQspec(s)の部分は、ピースの端点での値と勾配を一致させて現在のQspec(s)にブレンドされます。勾配マッチングはSLOPトグルコマンドでオン/オフを切り替えることができます。勾配マッチングがオフになっている場合、変更された部分は既存の値とのみ一致しますが、勾配の不連続性が許されます。

-- 平滑化 --
QspecはSMOOコマンドで平滑化することができ、通常は全体の分布に対して操作されますが、MARKコマンドで選択されたターゲットセグメントに限定することができます。平滑化はQspec(s)の二次導関数を軽減するために作用し、多くの連続したSMOOコマンドを使用すると、ターゲットセグメント上でQspec(s)は直線に近づきます。勾配マッチングフラグが設定されている場合は、エンドポイントの勾配が保持されます。

FILTコマンドは、Qspecのフーリエ係数に直接作用し、その影響はグローバルです。これは、翼の表面に何らかの幾何学的な問題が発生してノイズが存在する場合、またはカーソルを介した不適切な変更からQspecに意図しないノイズが導入された場合に、全体のQspec(s)分布を「クリーンアップ」するのに有用です。

FILTは、フィルターパラメータ「F」のべき乗にされたハニングウィンドウフィルター関数をフーリエ係数に乗じて作用させます。これにより、Qspecの高周波数成分がさまざまな程度にテーパーされます。F = 0.0の値はフィルタリングを行いませんが、F = 1.0は標準のハニングフィルターを提供し、F = 2.0はハニングフィルターを2回適用しますなどです。標準のハニングフィルターはやや過激に見えるため、現在はフィルターパラメータF = 0.2が使用されています。したがって、FILTを5回実行すると標準のハニングフィルターに相当します。SPECコマンドはいつでもマッピ

ング係数スペクトルを表示します。

-- 対称性強制 --
対称エアフォイルが設計される場合に便利なオプションが対称性強制(SYMMトグル)です。アクティブな場合、このオプションはすべての反対称（キャンバー）Qspecの変更をゼロにし、すべての対称（厚さ）の変更を2倍にします。残念ながら、これにはMODI操作が行われるたびにQspecの数値丸め誤差が2倍になるという厄介な副作用もあります。このノイズは、やがて高周波の小さな動きとして見えるようになり、MODIコマンドを使用するたびに2倍になります。たまにFILTを実行することで、この寄生ノイズの増加をコントロールできます。

-- ライトヒル制約の調整 --
MODI、BLOW、MARK、SMOO、SLOP、FILTコマンドは、Qspecが望ましい分布になるまで任意の順序で繰り返し発行できます。一般に、実際にプロットされる表面速度分布は、後端エッジギャップの指定と自由流速度との整合性を保つために自動的に追加される補正のため、カーソルで入力されたものと正確に一致するわけではありません。これらは表面速度に関するライトヒル制約として知られています。

後端エッジギャップは初期エアフォイルから初期化され、TGAPで変更することができます。制約による補正の「破壊的」効果を減らすための良いルールは、総CLを保持するようにQspec分布を変更することです。CLは単純にQspec(s)曲線の下の面積の2倍（= 2 x 循環）ですので、この面積は保持されるべきです。

-- 複数点表面速度表示 --
MDES機能の非常に便利な特徴は、異なるアルファまたは非粘性CL値に対応するいくつかのQspec分布を表示および変更する能力です。これらの値はAQまたはCQコマンドを介して表示および/または選択されます。1つのQspec分布が変更されると、変更の結果は他のすべての分布にも表示されます。これにより、複数の運用ポイントで迅速な設計が可能になります。Qspec曲線が指定されたCL値に対応する場合、各曲線のアルファは、その曲線のCLを保持するためにQspecの変更後に調整されます。その結果、このアルファ補正のために入力カーソルポイントと正確には一致しないQspecになります。

生成された新しい幾何形状
--------------------------
EXECコマンドは、現在のQspec分布に対応する新しいバッファエアフォイルを生成します。このエアフォイルに対して後続の操作（SAVE, OPERなど）を行う場合は、まずトップレベルメニューのPANEを使用して、このバッファエアフォイルから現在のエアフォイルを生成する必要があります。このやや複雑なシーケンスは、EXECによって生成されたエアフォイルの点が円平面で均等に配置されるためで、これにより物理的なエアフォイル上の点（パネルノード）の配置分布がかなり悪くなります。また、このシーケンスにより、EXECが発行された直後に現在のエアフォイルが上書きされるのを防ぎます。新しい現在のエアフォイルがPANEで生成されると、その後、OPERで分析したり、GDESで修正したりすることができます。

PERTコマンドでは、幾何形状を決定する複素マッピング係数Cnの手動入力が可能です。これらの係数は通常、Qspec(s)から決定されます（これが逆問題の本質です）。PERTコマンドは、外部での最適化やその他の目的で幾何学的摂動モードの生成を可能にする手段として提供されています。

手動で変更されたCn値は、幾何形状だけでなく、現在のQspec(s)分布にも変化をもたらします。QSETコマンドは、すべてを未摂動状態に戻します。

フルインバース機能は非常に高速で、初期化計算に数秒（RISCワークステーション上）かかった後、新しいバッファエアフォイルを生成するのにわずかな秒数を要します。


混合逆設計ルーチン（QDES）
===================================
XFOILの混合逆設計機能（QDES）は、特定の再設計問題において有用です。これは、エアフォイルの一部をどんな状況でも変更できない場合に利用します。混合逆メニューは以下の通りです。

   <cr>   トップレベルに戻る

   QSET   Qspecをリセット <== Q

   Modi   Qspecを修正
   MARK   ターゲットセグメントをマークオフ
   SMOO   ターゲットセグメント内のQspecを平滑化
   SLOP   修正されたQspecの勾配マッチングフラグのトグル

   eXec i 混合逆計算を実行
   REST   バッファエアフォイルから幾何形状を復元
   CPXX   CPxx端点制約のトグル

   Plot   Qspec（線）とQ（シンボル）をプロット
   VISC   Qvisオーバーレイのトグル
   REFL   反射されたQspecオーバーレイのトグル

   Blow   プロット領域を拡大
   Rese   プロットスケールと原点をリセット
   Wind   カーソルとキーによるプロットウィンドウの調整

   SIZE r 絶対プロットオブジェクトサイズの変更
  .ANNO  

 プロットに注釈をつける
   HARD   現在のプロットのハードコピー


上記のQDESメニューは、既存のエアフォイル（その表面速度分布は以前にOPERで計算された）のセグメントを再設計するために意図的に設計されており、全く新しいエアフォイルの生成というよりも、あるセグメントの再設計に適しています。


種子表面速度分布の生成
QDESに入ると、指定された速度分布Qspecは、OPERで最後に設定された現在の速度分布Qに初期化されます。現在のエアフォイルに対して直接解がまだ計算されていない場合、QDESは最後に設定された攻撃角を使用して計算を進めます。もしこれが望ましい角度でない場合は、ALFAを使用してOPERで設定することができます。QSETを使用して、現在のQ分布からQspecを設定することができます。Qspecの修正が失敗した場合、後からいつでもQSETコマンドを使用してQspecを「リセット」することができます。

表面速度分布の修正
Qspecは、MDESと同じように画面カーソルとMODIコマンドを使用して繰り返し修正することができます。また、MARKコマンドで幾何形状を修正するターゲットセグメントをマークオフする必要もあります。

新しいエアフォイル幾何形状の生成
EXECはターゲットセグメント上でエアフォイルを修正し、できる限りQspecに一致させます。エアフォイルの残りの幾何形状は変更されません。EXECは逆計算で行われるニュートン反復の回数を要求します。完全にマシンゼロに収束するために最大6回の反復が必要かもしれませんが、Mixed-Inverseのケースを完全に収束させる必要は_ありません_。通常2回の反復で新しい幾何形状に非常に近づくことができます。いずれにせよ、逆計算の結果として実際に得られる表面速度分布Qは、Qspecに加えられる機能モードによって指定された分布Qspecと多少異なることが一般的です。少なくとも2つのモードが追加され、その大きさは逆セグメントの端点での幾何学的閉鎖要件によって決定されます。MDESの複素マッピングルーチンと同様に、Qspec(s)曲線の下の面積であるCLがおおよそ保持されるようにQspecを修正する場合、Qspecに必要な修正は最小限になります。

EXECコマンドが完了した後にPLOTを発行すると、指定された（Qspec）と結果として得られる（Q）速度分布を比較することができます。表面速度の追加の滑らかさが必要な場合は、EXECの直前にCPXXコマンドを有効にすることで、始点のエアフォイルから圧力の二次微分を変更しないようにする2つの追加モードを有効にすることができます。このオプションの欠点は、結果として得られる表面速度Qが指定された速度Qspecからより大きく逸脱することです。Qspecを繰り返し修正し、CPXXオプションを設定またはリセットし、任意の順序でEXECコマンドを発行することが許可されています。

Mixed-Inverseの変更は、Full-Inverseが出力としてバッファエアフォイルを生成するのとは対照的に、現在のエアフォイルに直接行われます。実際、QDESメニューで作業を行った後にトップレベルでPANEやPCOPコマンドを発行しないことが重要です。なぜなら、新しい現在のエアフォイルが古いバッファエアフォイルで上書きされるからです。

幾何学的設計ルーチン
トップレベルメニューからGDESコマンドを実行すると、ユーザーはGDESルーチンに入ります。これにはかなり広範なメニューがあります:

<cr> トップレベルに戻る
! 前回のコマンドをやり直す

GSET バッファエアフォイルを現在のエアフォイルに設定する
eXec 現在のエアフォイルをバッファエアフォイルに設定する
SYMM y対称フラグの切り替え

ADEG r 原点周りで回転（度）
ARAD r 原点周りで回転（ラジアン）
Tran rr 移動
Scal r 原点周りでスケール変更
LINS rr. yスケールの線形変化
DERO 回転解除（コードラインを水平に設定）

TGAP rr 後縁ギャップの変更
LERA rr 前縁半径の変更

TCPL 厚みとキャンバーのプロットの切り替え
TFAC rr 既存の厚みとキャンバーのスケール変更
TSET rr 新しい厚みとキャンバーの設定
HIGH rr キャンバーと厚みの高点の移動
.CAMB キャンバー形状を直接または荷重を通じて修正する

BEND バッファエアフォイルの構造特性を表示する

Flap rrr 後縁フラップの偏向

Modi カーソルを使用して輪郭を修正する
SLOP 修正された輪郭の傾斜一致フラグの切り替え

CORN カーソルでダブルポイントを設定する（鋭角コーナーを設定）
ADDP カーソルでポイントを追加
DELP カーソルでポイントを削除
MOVP カーソルでポイントを移動

UNIT バッファエアフォイルを単位コードに正規化
Dist 2つのカーソルポイント間の距離を決定
CLIS 曲率をリストアップ
CPLO 曲率をプロット
CANG パネルのコーナーアングルをリストアップ
CADD ri. 角度閾値を超えるコーナーにポイントを追加

Plot バッファエアフォイルを再プロット
INPL スケーリングなしでバッファエアフォイルを再プロット（インチ単位）
Blow プロット領域を拡大
Rese プロットのスケールと原点をリセット
Wind     カーソルとキーによるプロットウィンドウの調整

   TSIZ     目盛りのサイズを変更
   TICK r   ノード目盛りのプロットのトグル
   GRID     グリッドのプロットのトグル
   GPAR     幾何学的パラメータのプロットのトグル
   Over f   オーバーレイディスクファイルエアフォイル

   SIZE r   絶対プロットオブジェクトサイズの変更
  .ANNO     プロットに注釈をつける
   HARD     現在のプロットのハードコピー

   NAME s   新しいエアフォイル名を指定
   NINC     名前バージョン番号をインクリメント


シードバッファエアフォイルの作成
----------------------------
通常最初に実行されるコマンドはGSETで、これは現在のエアフォイルから一時的なバッファエアフォイルを設定します。既に存在するバッファエアフォイルの座標を直接操作したい場合もあるかもしれません。バッファエアフォイルには、トップレベルのLOADによってディスクファイルから読み込まれた座標、またはMDESメニューのEXECによって生成された座標が含まれています。どちらの場合も、GSETはスキップされます。

ポイント追加（通常はエップラーとセリグのエアフォイルに対して）
--------------------------------------------------
バッファエアフォイルのポイント間隔が極端に粗い場合は、CADDコマンドで追加のポイントを追加できます。トップレベルでのPANEコマンドもこれを行いますが、CADDではポイント追加を極端なコーナー角度（CANGで表示される）を持つ位置に限定することができ、また指定されたx範囲内に落ちる位置に限定することもできます。異なるスプラインパラメータも、挿入されるスプラインポイントを決定するために使用することができます。例えば、以下のコマンド

 .GDES  c>  CADD 10.0  2  -0.1 0.2

は、パネル角度が±10度を超える各既存ポイントに隣接するスプラインポイントを追加し、追加されたポイントが区間 -0.1 < x < 0.2 内に落ちる場合にのみ行われます。"2"は、弧長スプラインパラメータが使用されることを示します。PANEコマンドは常に弧長スプラインを使用します。

アーカイブされたいくつかのエアフォイル、特にエップラーエアフォイルやセリグエアフォイルのいくつかは、前縁周りで極端に粗いポイント間隔を持っています。間隔は明らかに一様パラメータスプラインに合わせて調整されており、Xfoilで使用されている弧長パラメータスプラインでは前縁が悪く形成されることが多いです。以下のコマンドは、後続の解析のためにより滑らかな形状を与えるために追加ポイントを挿入します。

 .GDES  c>  C

ADD 10.0  1  -0.1 1.1

10.0度の角度許容範囲は必要に応じて変更可能です（最大角度の1/2がデフォルト）。"1"の引数（デフォルトでもあります）は、エップラーエアフォイルに最適な一様パラメータスプラインでの補間を指定します。デフォルトのx範囲は、エアフォイル全体を処理することを示します。CADDコマンドは、最大パネル角度をさらに減らすために繰り返すことができますが、これによって結果としてのスプラインエアフォイルの滑らかさが向上するかどうかは不確実です。

バッファエアフォイルの修正
------------------------
バッファエアフォイルが適切に初期化されたら、ほとんどのGDESコマンドを使用して修正することができます。新しい形状は通常、強調表示された色で直ちに再プロットされます。プロットはいつでもPLOTコマンドで更新できます。

時には、目的の効果を達成するために一連のコマンドが必要です。例えば、現在の厚さのエンベロープを持つエアフォイルに完全に新しいキャンバーラインを与えるとします。TSETを発行して<cr>を押し（同じ厚さを保つ）、新しいキャンバーを0にすると、現在の厚さのエンベロープは変わらず、現在のキャンバーは排除されて、対称的なエアフォイルが残ります。新しいキャンバーラインはその後CAMBサブメニューで追加できます：

   <cr>    GDESに戻る
   TFAC rr 既存の厚さとキャンバーをスケールする
   TSET rr 新しい厚さとキャンバーを設定する
   HIGH rr キャンバーと厚さのハイポイントを動かす
   WRTC    エアフォイルキャンバーx/c,y/cをファイルに書き出す

   RDAC    ファイルから追加されたキャンバーx/c,y/cを読み込む
   SETC    キャンバーラインから追加されたキャンバーx/c,y/cを設定する
   INPC    キーボードから追加されたキャンバーx/c,y/cを入力する
   MODC    カーソルで追加されたキャンバーx/c,y/cを修正する
   INPP    キーボードから追加された荷重x/c,DCpを入力する
   MODP    カーソルで追加された荷重x/c,DCpを修正する
   SLOP    修正されたキャンバー、dCpのスロープマッチングフラグを切り替える
   SCAL r  追加されたキャンバーをスケールする
   CLR     追加されたキャンバーをクリアする
   ADD     追加されたキャンバーを既存のキャンバーラインに追加する

   DCPL    DCpプロットの切り替え
   CPLI rr DCp軸プロットリミットの変更

   Blow    プロット領域を拡大する
   Rese    プロットスケールと原点をリセットする

   SIZE r   絶対プロットオブジェクトサイズを変更する
  .ANNO     プロットに注釈をつける
   HARD     現在のプロットのハードコピー

..CAMB   c>


INPCは新しいキャンバーラインを一連のx/c,y/c座標ペアとして受け取り、それらをスプラインします。INPPは代わりにx/c,delta(Cp)ペアのシーケンスを受け取ります。このdelta(Cp)（すなわち荷重）分布は

delta(Cp) = (Cp)下 - (Cp)上

として定義され、Glauertの薄翼理論を使用してx/c,y/cキャンバーラインを定義するために使用されます。

IN

PCとINPPを使用すると、y(x)またはCp(x)の勾配不連続性を、スプライニングをこの点で防ぐために、2つの同一の連続するx/c値で指定することができます。したがって、INPPは例えばa=0.8 NACA 6桁エアフォイルのような、折れ線型delta(Cp)荷重分布を持つキャンバーラインを容易に生成できます：
 x/c delta(Cp)
 0.0   0.5
 0.8   0.5
 0.8   0.5
 1.0   0.0

これにより、0.0 < x/c < 0.8の範囲でdelta(Cp) = 0.5が一定となり、0.8 < x/c < 1.0の範囲でdelta(Cp) = 0.0に線形に減少します。

適切な追加キャンバーが入力されると、それはADDコマンドを通して既存のバッファエアフォイルキャンバーに追加されます。

キャンバーライン、厚さ、前縁半径などを修正するためのさまざまなGDESコマンドは、ほとんどの形状修正タスクに十分であるはずです。本当にフラストレーションが溜まった場合、ユーザーはMODIコマンドを使用して、MDESやQDES手順と同じ方法でカーソル入力を受け付ける新しい輪郭を「描く」ことができます。修正された部分の端点での勾配の一致も、SLOPトグルコマンドで有効/無効を切り替えることができます。唯一重要な違いは、ここでは点を新しい輪郭に沿って連続して入力する必要があるが、グラフィックウィンドウで「消去」をクリックするか、「e」と入力することで、既に入力された点を「消す」ことができる点です。

点を二重にするには、CORNコマンドを使用します。二重の点は、フラップの切れ目など、鋭い角が必要な場所で有用です。通常、スプラインルーチンはすべての点で勾配の連続性を強制し、鋭い角を効果的に防止します。プロット上で小さなダイヤモンド記号でマークされた二重の点は、角の各側で別々のスプラインを生成させ、勾配の変化を許容します。DELPコマンドを発行してから二重の点をクリックすると、その点が除去されます。通常の単一点にDELPを使用すると、その点が完全に削除されます。

TGAPコマンドは、鈍い後縁の厚さ（またはギャップ）を設定します。ギャップ「ds」は、上側と下側の座標端点間の距離として定義されます：ds^2 = dx^2 + dy^2。もしギャップがすでに非ゼロの場合、新しいTE基底ベクトル（dx,dy）は古いものと同じ方向性を持ちます。すなわち、

  dy|       dy|
  --|    =  --|
  dx|       dx|
     新       古

もし初めにギャップがゼロである場合、新しい基底ベクトルは後縁の二等分線に垂直になります。もし基底の方向性が予期しないものになった場合、それはギャップが*完全に*ゼロではなかったことを意味しています。修正するには、最初にギャップをゼロに設定し、その後再び望む値に設定します。

新しいギャップサイズを入力した後、「ブレンディング距離/c」も要求されます。これは新しいTEが元のエアフォイルにどれだけ迅速に溶け込むかを制御し、基本的にブレンディング機能の長さスケール（x/cにおける指数関数的）です。限界値は次のとおりです：

距離/c = 0：上面と下面のTE点のみが変更される
       = 1：エアフォイルに線形「くさび」が追加または減算される


バッファエアフォイルを現在のエアフォイルに保存する
------------------------------------------
望ましいバッファエアフォイルが作成されたら、EXECコマンド（トップレベルでのPCOPと同等）で直接バッファエアフォイルから新しい現在のエアフォイルを設定することができます。または、トップレベルのPANEコマンドでバッファエアフォイルから新しい現在のエアフォイルを再パネリングすることもできます。新しい現在のエアフォイルは、その後OPERで分析することができます。もしバッファエアフォイルに二重の角点がある場合、二重点は除去されますが、現在のエアフォイルのノードがバッファエアフォイルの角に正確に合致します。

スタートアップデフォルト
=================
XFOILには、パネリング、プロッティング、粘性実行を制御する組み込みパラメータ（サブルーチンINIT内）があります。これらのほとんどは、さまざまなメニューで実行時に変更することができます。XFOILを実行するたびにパラメータを変更する必要性を避けるために、これらをデフォルトファイルxfoil.defにTOP LEVELでWDEFコマンドを使って保存することができます。このファイルの形式は以下の通りです：

   140       1.0000   0.1500   0.2000 | Npan    PPanel  TErat  REFrat
    1.0000   1.0000   1.0000   1.0000 | XrefS1  XrefS2  XrefP1 XrefP2
   10.0000   0.5500   0.0150   0.8500 | Size    plotAR  CHsize ScrnFr
   11.0000   8.5000   0.0000   0.0000 | Xpage   Ypage   Xmargn Ymargn
  F        T                          | Lcolor  Lcursor
    1.0000  -2.0000  -0.5000          | CPmax   CPmin   CPdel
    0.0900   0.7000                   | XoffAir ScalAir BLUwt
    0.0000   1.5000   0.5000          | CLmin   CLmax   CLdel
    0.0000   0.0200   0.0100          | CDmin   CDmax   CDdel
   -4.0000  10.0000   2.0000          | ALmin   ALmax   ALdel
    0.0000   0.3000   0.1000          | CMmin   CMmax   CMdel
   1         0.0000   0.0100          | MAtype  Mach    Vaccel
   1         0.0000   9.0000          | REtype  Re/10^6 Ncrit
    1.0000   1.0000                   | XtripT  XtripB

1行目：PPARメニューからのパネリングパラメータ  
2行目：パネリング洗練位置                 
3行目：絶対プロットサイズ、プロットのアスペクト比を指定し、
          文字、数字、シンボルの高さのスケールを調整します
4行目：インチ単位でページサイズとページ余白を定義します
5行目：カラーPostScript出力のフラグ、カーソルスクリーン入力
6行目：Cp軸の注釈を定義します               
7行目：Cp vs xプロットにおける翼型のxオフセットとスケール、BL uプロファイルスケール
8行目：ポーラープロット上のCL軸注釈
9行目：ポーラープロット上のCD軸注釈
10行目：ポーラープロット上のα（アルファ）軸注釈
11行目：ポーラープロット上のCM軸注釈
12行目：Mach-CL依存タイプ、マッハ数、解決加速パラメータ
13行目：Re-CL依存タイプ、レイノルズ数、遷移パラメータ
14行目：上面、下面での強制遷移x/c位置

このファイルはいつでもRDEFコマンドで読み込むことができ、すべての情報を手動で入力する必要を回避できます。


注意事項
=======
XFOILコードは万能ではなく、使用者がある程度の空力学の専門知識と常識を持っていることが求められます。非粘性解析（OPERi）、形状設計（GDES）、フル逆問題（MDES）のルーチンはほぼ失敗することはありませんが、混合逆問題（QDES）の設計ルーチン、特に粘性解析（OPERv）のルーチンは、「合理的な」問題が指定されていない場合には失敗します。典型的な失敗シナリオは以下の通りです：

 - 粘性解析（OPERv）
     * 翼厚、フラップ偏向、または迎え角の過度による大規模な分離
     * 本質的に不安定な流れ（カルマン渦列など）
     * 前縁の圧力スパイクの分解能不足
     * 小さい粘性特性の分解能不足（例：分離バブル）
     * レイノルズ数が低すぎる

 - 混合逆問題表面速度設計（QDES）
     * 再入可能な翼形状（負の厚さ）

これらの発生が原因で算術エラーが発生し、プログラムが失敗する可能性があります。これはまれですが、時々起こります。そのため、野心的な計算を試みる前に、以前の作業を保存することをお勧めします。

次の状況は、数値の丸め誤差が原因で問題を引き起こす可能性があります：

 - 翼型上の極端に小さなパネル

 - 原点から遠すぎる翼型の位置

 - 翼型が薄すぎる

これらの状況が算術エラーを引き起こすことはまれですが、一般に「ざらざらした」Cp分布を引き起こします。
GDESメニューでパネリングを検査し、必要であればGSETコマンドを使用して現在のパネリングを設定してください。極端に小さなパネルはDELPコマンドを使用して1つまたは複数のパネルノードを削除することで取り除いてください。

粘性解析計算を行うときは、一連の実行で迎え角が大幅に変わらないようにすることが常に良いアイデアです。ニュートン法の解法は常に最後に得られた解を新しい解の初期推測値として使用し、古い解から新しい解への変化が比較的小さい場合に最もうまく機能します。この理由から、CLmaxを超えるような困難な計算は、徐々に迎え角を増やすことで実行するのが最良です。OPER内のASEQコマンドがこれには便利です。もしユーザーが一点から別の点への大幅な変更を強いる場合は、急進的な計算を行う前にOPERのVPARメニューのINITコマンドを使用して境界層を再初期化することが最良です。粘性解析が失敗してもプログラムがクラッシュしない場合は、常にINITを実行する

べきです。

粘性解析は、ALFA、CLなどのコマンドが発行されるたびに、現在の反復限界に設定された回数以上のニュートン反復は実行しません。この限界内で収束しない場合は、ALFAやCLを必要な回数（「!」で最も簡単に）発行し、それぞれの回数で新たなニュートン反復が行われます。この反復限界は、OPER内のITERコマンドでデフォルト値の10から変更することができます。

常に、超音速流を示す解を信頼するのには注意が必要です。このような流れは、真の非線形場法（例えばMSESコード）でなければ信頼できる予測ができません。経験則として、最大マッハ数がどこにおいても1.05を超えなければ、衝撃損失は非常に小さく、Cp分布はかなり正確であり、XFOILによって予測される抗力はおそらく正確であると言えます。
